<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel de Agendamentos â€” Cartomantes Online</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body { font-family: Arial, sans-serif; background:#000; color:#fff; padding:20px; }
h1 { text-align:center; color:#ffd700; text-shadow:0 0 10px #ff0; margin-bottom:20px; }
table { width:100%; border-collapse:collapse; margin-top:10px; font-size:15px; }
th, td { border:1px solid #333; padding:8px; text-align:left; }
th { background:#111; color:#ffd700; }
tr:nth-child(even){ background:#111; }
button {
  padding:6px 12px; border:none; border-radius:5px;
  cursor:pointer; font-size:14px; transition:0.3s;
}
button:hover { transform:scale(1.05); }
button.liberar { background:#0cdfb9; color:#000; }
button.excluir { background:#ff0000; color:#fff; }
footer { text-align:center; margin-top:25px; color:#888; font-size:14px; }
</style>
</head>
<body>
<h1>ðŸ“… Painel de Agendamentos</h1>

<table>
<thead>
<tr><th>Data</th><th>Hora</th><th>Nome</th><th>WhatsApp</th><th>Pacote</th><th>AÃ§Ãµes</th></tr>
</thead>
<tbody id="lista"></tbody>
</table>

<footer>Â© 2025 â€” Cartomantes Online ðŸ”®</footer>

<script>
// === FIREBASE CONFIG ===
const firebaseConfig = {
  apiKey: "AIzaSyA7XSLTDxayTOczs7-sW5s0_nx7nkDgVo",
  authDomain: "coletivo2025-9de23.firebaseapp.com",
  databaseURL: "https://coletivo2025-9de23-default-rtdb.firebaseio.com",
  projectId: "coletivo2025-9de23",
  storageBucket: "coletivo2025-9de23.appspot.com",
  messagingSenderId: "740866367489",
  appId: "1:740866367489:web:963e3f5be80cb35a71e000"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// === CARREGAR ===
db.ref("agendamentos").on("value", snap=>{
  const lista = document.getElementById("lista");
  lista.innerHTML = "";
  const dados = snap.val();
  if(!dados){ lista.innerHTML="<tr><td colspan=6>Nenhum agendamento ainda.</td></tr>"; return; }

  Object.entries(dados).forEach(([id,a])=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${a.data}</td>
      <td>${a.hora}</td>
      <td>${a.nome}</td>
      <td>${a.whatsapp}</td>
      <td>${a.pacote}</td>
      <td>
        <button class="excluir" onclick="excluir('${id}')">Excluir</button>
        <button class="liberar" onclick="liberar('${id}')">Liberar</button>
      </td>`;
    lista.appendChild(tr);
  });
});

function excluir(id){
  if(confirm("Excluir este agendamento?"))
    db.ref("agendamentos/"+id).remove();
}

function liberar(id){
  if(confirm("Liberar esta vaga para novo agendamento?"))
    db.ref("agendamentos/"+id).remove();
}
</script>
</body>
</html>
